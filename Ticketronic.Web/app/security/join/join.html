<section class="mainbar" data-ng-controller="login as vm">
    <section class="matter">
        <div class="container-fuild">
            <div class="row">
                <div class="widget wviolet">
                    <div class="container" ng-controller="joinController as vm">
                        <div class="row join-form">
                            <div class="col-sm-8 col-sm-offset-2 col-md-4 col-md-offset-4" ng-show="vm.message == null">
                                <br />
                                <h3>Register</h3>
                                <form name="vm.joinForm" ng-submit="vm.join()">
                                    <auto:fields fields="vm.schema" data="vm.user"></auto:fields>
                                    <button type="submit" class="btn btn-default btn-lg btn-block" ng-class="{'is-valid':vm.joinForm.$valid}">Register<i class="fa fa-check vaild-check"></i></button>
                                </form>
                                <br>
                                <p class="small text-muted text-center">Already have an account? <a href="/#/login">Login Now!</a></p>
                                <div ng-if="security.externalLogins.length > 0">
                                    <hr />
                                    <h4>Or Register With</h4>
                                    <button class="btn" ng-repeat="login in security.externalLogins"
                                            ng-class="{googlered : (login.name === 'Google'),facebookblue : (login.name === 'Facebook'), twitterblue : (login.name === 'Twitter'), microsoftblue : (login.name === 'Microsoft')}"
                                            ng-bind="login.name" ng-click="security.loginWithExternal(login, user)"></button>
                                </div>
                            </div>
                            <div class="col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3" ng-hide="vm.message == null">
                                <p class="lead" ng-bind="vm.message"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</section>